<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>HTML5 File Drag &amp; Drop API</title>
	<style>
		#result img{
			width: 400px;
		}
	</style>
</head>
<body>
<div>
	<input type="file" id="file_select" multiple="multiple" />
</div>
<hr>
<div>
	<button type="submit" id="do_upload">Upload Files</button>
</div>
<hr>
<div id="result"></div>
<script src="/ace/assets/js/jquery.2.1.1.min.js"></script>
<script>

	$(function(){
		//$.get("http://oss-cn-hangzhou.aliyuncs.com/open-edit/design/svg/10/front.svg",function(data){
			//console.log(data);
			//$("#result").html(data);
		//},"text");
		$("#file_select").change(function(e){
			if (!(window.File && window.FileList && window.FileReader)) {
				return alert("不支持上传方法");
			}
			var files = e.target.files || e.dataTransfer.files;
			var file = files[0];
			console.log(file.name,file.type,file.size+"bytes",file);
			if (file.type.indexOf("svg") > 0) {
				var reader = new FileReader();
				reader.onload = function(e) {
					$("#result").html(e.target.result);
				}
				reader.readAsText(file);
			}else if (file.type.indexOf("image") == 0) {
				var reader = new FileReader();
				reader.onload = function(e) {
					var img_base64 = e.target.result;
					//console.log(img_base64);
					$("#result").html('<img src="'+img_base64+'">');
				};
				reader.readAsDataURL(file);
			}
		});
	})
</script>
</body>
</html>