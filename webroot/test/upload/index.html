<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
	<script src="http://libs.baidu.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
	<link href="http://libs.baidu.com/bootstrap/3.0.3/css/bootstrap.min.css" rel="stylesheet">
	<script src="/ace/assets/js/jquery.2.1.1.min.js"></script>

	<title>HTML5 File Drag &amp; Drop API</title>
	<style>
		#result img{
			width: 400px;
		}
	</style>
</head>
<body>
<hr>
<label class="btn btn-primary" for="my-file-selector">
	<input id="my-file-selector" type="file" style="display:none;">
	Button Text Here
</label>

<hr>
<hr>
<div id="result"></div>
<script>

	$(function(){
		$("#file_select").change(function(e){
			debugger;
			if (!(window.File && window.FileList && window.FileReader)) {
				return alert("不支持上传方法");
			}
			var files = e.target.files || e.dataTransfer.files;
			var file = files[0];
			console.log(file.name,file.type,file.size+"bytes",file);
			if (file.type.indexOf("svg") > 0) {
				var reader = new FileReader();
				reader.onload = function(e) {
					$("#result").html(e.target.result);
				}
				reader.readAsText(file);
			}else if (file.type.indexOf("image") == 0) {
				var reader = new FileReader();
				reader.onload = function(e) {
					var img_base64 = e.target.result;
					//console.log(img_base64);
					$("#result").html('<img src="'+img_base64+'">');
				};
				reader.readAsDataURL(file);
			}
		});
	})
</script>
</body>
</html>